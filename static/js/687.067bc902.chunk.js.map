{"version":3,"file":"static/js/687.067bc902.chunk.js","mappings":"0NAEMA,EAAWC,EAAAA,GAAAA,IAAH,0VAkBRC,EAAeD,EAAAA,GAAAA,IAAH,iJ,UCbZE,EAAYC,SAASC,cAAc,eAEnCC,EAAO,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,UAEtBC,EAAAA,EAAAA,YAAU,WAER,IAAMC,EAAgB,SAAAC,GACD,WAAfA,EAAMC,MAERL,GAEH,EAGD,OADAM,OAAOC,iBAAiB,UAAWJ,GAC5B,WACLG,OAAOE,oBAAoB,UAAWL,EACvC,CACF,GAAC,CAACH,IASH,OAAOS,EAAAA,EAAAA,eACL,SAAChB,EAAD,CAAUiB,UAAU,UAAUC,QARJ,SAAAP,GACtBA,EAAMQ,SAAWR,EAAMS,eAEzBb,GAEH,EAGC,UACE,SAACL,EAAD,CAAce,UAAU,QAAxB,SAAiCT,MAEnCL,EAGH,C,wJC9BKkB,EAASC,EAAAA,KAAaC,MAAM,CAChCC,MAAOF,EAAAA,KAAaG,IAAI,EAAjB,sCAA0DC,QAAQ,GAAI,uBAAuBC,SAAS,sBAC7GC,SAAUN,EAAAA,KAAaG,IAAI,EAAjB,0CAA6DE,SAAS,0BAG5EE,EAAY,WAEhB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAQC,EAAAA,EAAAA,IAAYC,EAAAA,IAEpBC,GAASC,EAAAA,EAAAA,IAAU,CACvBC,cAAe,CACbb,MAAO,GACPI,SAAU,IAEZU,iBAAmBjB,EACnBkB,SAAU,SAACC,EAAD,GAA4B,IAAjBC,EAAgB,EAAhBA,UACnBX,GAASY,EAAAA,EAAAA,IAAMF,IACfC,GACD,IAEH,OACE,UAACE,EAAA,EAAD,CACEC,GAAG,OACHC,QAAQ,OACRC,QAAQ,OACRC,cAAc,SACdC,GAAG,OACHC,aAAa,MACbV,SAAUJ,EAAOe,aAPnB,WASE,UAACP,EAAA,EAAD,CAAKE,QAAQ,OAAOE,cAAc,SAAlC,WACE,UAACJ,EAAA,EAAD,CAAKC,GAAG,QAAQC,QAAQ,OAAOE,cAAc,SAA7C,oBAEE,kBACEI,KAAK,QACLC,KAAK,QACLC,MAAOlB,EAAOK,OAAOhB,MACrB8B,SAAUnB,EAAOoB,kBAGpBvB,IAAK,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOR,SAAS,8BAAGQ,EAAMR,QAClCW,EAAOqB,QAAQhC,OAASW,EAAOsB,OAAOjC,OACnC,oCAAIW,EAAOsB,OAAOjC,MAAlB,OAA+B,SAErC,UAACmB,EAAA,EAAD,CAAKE,QAAQ,OAAOE,cAAc,SAAlC,WACA,UAACJ,EAAA,EAAD,CAAKC,GAAG,QAAQC,QAAQ,OAAOE,cAAc,SAA7C,sBAEE,kBACEI,KAAK,WACLC,KAAK,WACLC,MAAOlB,EAAOK,OAAOZ,SACrB0B,SAAUnB,EAAOoB,kBAGpBvB,IAAK,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOJ,YAAY,8BAAGI,EAAMJ,WACrCO,EAAOqB,QAAQ5B,UAAYO,EAAOsB,OAAO7B,UACrC,oCAAIO,EAAOsB,OAAO7B,SAAlB,OAAkC,SAEvC,mBAAQuB,KAAK,SAAb,sBACCnB,IAAS,uBAAIA,EAAM0B,YAGzB,EClEKC,EAAQ,WAMZ,OACE,SAACrD,EAAA,EAAD,WACE,SAACuB,EAAD,KAGL,C","sources":["components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","components/LoginForm/LoginForm.jsx","pages/Login.jsx"],"sourcesContent":["import styled from 'styled-components'\n\nconst Backdrop = styled.div`\n  position: fixed;\n  // top: 16px;\n  // top: 0;\n  // left: 0;\n  right: 16px;\n  // width: 100vw;\n  // height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  //background-color: rgba(0, 0, 0, 0.8);\n  padding: 16px;\n  border-radius: 5px;\n  outline: 1px solid red;\n  z-index: 1200;\n`\n  \nconst ModalContent = styled.div` \n  //max-width: calc(50vw - 48px);\n  //max-height: calc(50vh - 24px);\n  // max-width:50vw;\n  // max-height: 50vh;\n;\n`\n\nexport {Backdrop, ModalContent} ","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport PropTypes from 'prop-types';\n\nimport { Backdrop, ModalContent } from './Modal.styled';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nconst Modal =({onClose, children}) => {\n\n  useEffect(() => {\n\n    const handleKeyDown = event => {\n      if (event.code === 'Escape') {\n        // console.log('Нажали ESC, нужно закрыть модалку');\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  },[onClose]);\n\n  const handleBackdropClick = event => {\n    if (event.target === event.currentTarget) {\n      // console.log(\"нужно закрыть модалку\");\n      onClose();\n    }\n  }\n\n  return createPortal(\n    <Backdrop className=\"Overlay\" onClick={handleBackdropClick}>\n      <ModalContent className=\"Modal\">{children}</ModalContent>\n    </Backdrop>,\n    modalRoot\n  );\n\n}\n\nModal.propTypes = {\n  onClose : PropTypes.func\n}\n\nexport { Modal }","import { useSelector, useDispatch } from 'react-redux';\n\nimport { login } from 'redux/auth/operations'\nimport { selectError } from 'redux/auth/selectors';\n\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\n\nimport Box from 'components/Box';\n\nconst schema = Yup.object().shape({\n  email: Yup.string().min(3, `Name must be at least 3 characters`).matches(\"\", 'E-mail is not valid').required('E-mail is required'),\n  password: Yup.string().min(7,`Password must be at least 7 characters`).required('Password is required'),\n});\n\nconst LoginForm = () => {\n\n  const dispatch = useDispatch();\n  const error = useSelector(selectError);\n\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      password: '',\n    },\n    validationSchema : schema,\n    onSubmit: (values, { resetForm }) => {\n      dispatch(login(values));\n      resetForm();\n    },\n  });\n  return (\n    <Box\n      as=\"form\"\n      display=\"flex\"\n      gridGap=\"16px\"\n      flexDirection=\"column\"\n      py=\"16px\"\n      autocomplete=\"off\"\n      onSubmit={formik.handleSubmit}\n    >\n      <Box display=\"flex\" flexDirection=\"column\">\n        <Box as=\"label\" display=\"flex\" flexDirection=\"column\">\n          E-mail\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={formik.values.email}\n            onChange={formik.handleChange}\n          />\n        </Box>\n        {error && error?.email && <>{error.email}</>}\n        {formik.touched.email && formik.errors.email ? \n            <> {formik.errors.email} </> : null}\n      </Box>\n      <Box display=\"flex\" flexDirection=\"column\">\n      <Box as=\"label\" display=\"flex\" flexDirection=\"column\">\n        Password\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={formik.values.password}\n          onChange={formik.handleChange}\n        />\n      </Box>\n      {error && error?.password && <>{error.password}</>}\n      {formik.touched.password && formik.errors.password ? \n           <> {formik.errors.password} </> : null}\n      </Box>\n      <button type=\"submit\"> Log In </button>\n      {error && <p>{error.message}</p>}\n    </Box>\n  );\n};\n\nexport { LoginForm };","// import { useDispatch  } from 'react-redux'\n\n// import { resetError } from 'redux/auth/slice' \n\nimport Modal from \"components/Modal\"\nimport LoginForm from \"components/LoginForm\"\n\nconst Login = () => {\n\n  // const dispatch = useDispatch();\n\n  // dispatch(resetError())\n\n  return (\n    <Modal> \n      <LoginForm />\n    </Modal>\n  )\n}\n\nexport { Login as default }"],"names":["Backdrop","styled","ModalContent","modalRoot","document","querySelector","Modal","onClose","children","useEffect","handleKeyDown","event","code","window","addEventListener","removeEventListener","createPortal","className","onClick","target","currentTarget","schema","Yup","shape","email","min","matches","required","password","LoginForm","dispatch","useDispatch","error","useSelector","selectError","formik","useFormik","initialValues","validationSchema","onSubmit","values","resetForm","login","Box","as","display","gridGap","flexDirection","py","autocomplete","handleSubmit","type","name","value","onChange","handleChange","touched","errors","message","Login"],"sourceRoot":""}