"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[802],{8802:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var r=t(885),a=t(2791),s=t(4476),o=t(9434),i=t(3634),l=t(2982),c=t(6916),u=function(e){return e.contacts.items},d=function(e){return e.contacts.isLoading},m=function(e){return e.contacts.error},x=(0,c.P1)([u,function(e){return e.filter}],(function(e,n){return n?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):e})),h=(0,c.P1)([u],(function(e){return e.reduce((function(e,n){return[].concat((0,l.Z)(e),[n.name.toLowerCase()])}),[])})),p=t(8789),f=t(5705),Z=t(7103),j=t(9391),b=t(7205),g=t(1647),v=t(1508),y=t(2716),C=t(7750),w=t(3329),I=Z.Ry().shape({name:Z.Z_().min(3,"Name must be at least 3 characters").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name is not valid").required("Name is required"),number:Z.Z_().max(13,"Phone number must be at most 13 characters").matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone is not valid").required("Phone is required")}),k=function(){var e=(0,p.Fg)(),n=(0,o.I0)(),t=(0,a.useState)(!1),l=(0,r.Z)(t,2),c=l[0],u=l[1],d=(0,a.useState)(""),m=(0,r.Z)(d,2),x=m[0],Z=m[1],k=(0,o.v9)(h),_=(0,f.TA)({initialValues:{name:"",number:""},validationSchema:I,onSubmit:function(e,t){var r=t.resetForm,a=e.name;k.includes(a.toLowerCase())?(u(!0),Z("".concat(a," is already in contacts"))):(n((0,i.uK)(e)),r())}});return(0,w.jsxs)(s.Z,{as:"form",display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"flex=start",gridGap:e.space.normal,p:e.space.large,border:"1px solid ".concat(e.colors.accentAltenative),borderRadius:e.radii.normal,autoComplete:"off",onSubmit:_.handleSubmit,children:[(0,w.jsxs)(s.Z,{display:"flex",children:[(0,w.jsx)(C.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,w.jsx)(j.Z,{label:"Name",type:"text",name:"name",value:_.values.name,onChange:_.handleChange,error:!!_.errors.name,helperText:_.touched.name&&_.errors.name?_.errors.name:null,size:"small",sx:{width:"100%"}})]}),(0,w.jsxs)(s.Z,{display:"flex",children:[(0,w.jsx)(y.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,w.jsx)(j.Z,{label:"Phone",type:"tel",name:"number",value:_.values.number,onChange:_.handleChange,error:!!_.errors.number,helperText:_.touched.number&&_.errors.number?_.errors.number:null,size:"small",sx:{width:"100%"}})]}),(0,w.jsx)(b.Z,{variant:"contained",type:"submit",startIcon:(0,w.jsx)(C.Z,{}),children:" Add contact "}),c&&(0,w.jsx)(g.Z,{open:c,autoHideDuration:3e3,children:(0,w.jsx)(v.Z,{onClose:function(e){"clickaway"!==e&&u(!1)},severity:"warning",children:x})},"topright")]})},_=t(1273),z=t(5095),A=t.n(z),S=t(8254),G=t(1703),P=function(){var e=(0,o.I0)(),n=A()((function(n){e((0,_.T)(n.target.value))}),500);return(0,w.jsx)(j.Z,{type:"text",onChange:n,placeholder:"Find contact by name",variant:"standard",sx:{flexGrow:"1"},InputProps:{startAdornment:(0,w.jsx)(S.Z,{position:"start",children:(0,w.jsx)(G.Z,{sx:{color:"action.active",mr:1,my:.5}})})}})},L=t(3368),F=function(){var e=(0,p.Fg)(),n=(0,o.I0)(),t=(0,o.v9)(x),l=(0,o.v9)(d),c=(0,o.v9)(m),u=(0,a.useState)(!1),h=(0,r.Z)(u,2),f=h[0],Z=h[1];return(0,a.useEffect)((function(){n((0,i.yF)()),c&&Z(!0)}),[n,c]),(0,w.jsxs)(s.Z,{as:"ul",py:e.space.large,display:"flex",gridGap:e.space.small,flexDirection:"column",children:[l&&!c&&(0,w.jsx)("p",{children:" Loading contacts... "}),c&&(0,w.jsx)(g.Z,{open:f,autoHideDuration:3e3,children:(0,w.jsx)(v.Z,{onClose:function(e){"clickaway"!==e&&Z(!1)},severity:"error",children:c})},"topright"),t.length?t.map((function(t){var r=t.id,a=t.name,o=t.number;return(0,w.jsxs)(s.Z,{as:"li",p:e.space.normal,fontWeight:e.fontWeights.bold,display:"flex",justifyContent:"space-between",aligItems:"flex-start",border:"1px solid ".concat(e.colors.border),children:[(0,w.jsxs)(s.Z,{display:"inline-flex",alignItems:"center",gridGap:e.space.normal,flexGrow:"1",children:[(0,w.jsxs)(s.Z,{as:"span",flexGrow:"1",maxWidth:"50%",children:[" ",a," "]}),(0,w.jsxs)("span",{children:[" ",o," "]})]}),(0,w.jsx)(b.Z,{type:"button",onClick:function(){return n((0,i.GK)(r))},variant:"outlined",size:"small",color:"error",startIcon:(0,w.jsx)(L.Z,{}),children:"Delete"})]},r)})):null]})},q=t(5399),D=t(3811),N=t(5450),T=t(22),W=function(){var e=(0,a.useState)(!1),n=(0,r.Z)(e,2),t=n[0],o=n[1],i=function(){o(!t)};return(0,w.jsxs)(s.Z,{as:"main",minHeight:"calc(100vh - 80px)",children:[(0,w.jsxs)(s.Z,{display:"flex",pt:"8px",justifyContent:"space-between",alignItems:"center",children:[(0,w.jsx)(P,{}),(0,w.jsx)(b.Z,{variant:"contained",size:"small",type:"button",onClick:i,startIcon:(0,w.jsx)(C.Z,{}),children:"Add contact"}),t&&(0,w.jsxs)(q.Z,{sx:{color:"primary.ligth",zIndex:function(e){return e.zIndex.drawer+1}},open:t,onClose:i,children:[(0,w.jsx)(D.Z,{"aria-label":"close",onClick:i,sx:{position:"absolute",padding:"0",top:"0",right:"0",transform:"translate(-10%, 1%)"},children:(0,w.jsx)(T.Z,{})}),(0,w.jsx)(N.Z,{children:(0,w.jsx)(k,{})})]})]}),(0,w.jsx)(F,{})]})}}}]);
//# sourceMappingURL=802.26d757fe.chunk.js.map